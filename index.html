<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta name="description" content="DirectGoç›´è¾¾æä¾›çº¯å‡€æœç´¢ä½“éªŒï¼Œç›´æ¥è·å–çŸ¥ä¹ã€å¾®åšã€å°çº¢ä¹¦ã€å“”å“©å“”å“©ç­‰å¹³å°å†…å®¹ï¼Œæ— ä¿¡æ¯æµå¹²æ‰°ã€‚æ”¯æŒå¹³å°åˆ«åå¿«æ·æœç´¢ï¼Œæå‡ä¿¡æ¯è·å–æ•ˆç‡ã€‚">
    <meta name="google-site-verification" content="nXbYRKUwXwReStmNMFc4euXmHP3ZDSE7eVSnOjnof7U" />
    <title>DirectGo ç›´è¾¾ - ä¸“æ³¨æœç´¢ï¼Œæ‹’ç»ä¿¡æ¯æµ | ç›´è¾¾çŸ¥ä¹/å¾®åš/å°çº¢ä¹¦ç­‰å¹³å°å†…å®¹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif;
            background: #f2e8c9 url('data:image/png;base64,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');
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 600px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 48px;
        }
        
        .title {
            font-size: 3.5rem;
            font-weight: bold;
            color: #5d4037;
            margin-bottom: 16px;
            text-shadow: 2px 2px 4px rgba(139, 69, 19, 0.4);
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
        }
        
        .subtitle {
            font-size: 1.35rem;
            color: #795548;
            margin-bottom: 8px;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
            font-style: normal;
        }
        
        .description {
            font-size: 0.95rem;
            color: #8d6e63;
            font-style: italic;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
        }
        
        .search-card {
            background: rgba(245, 231, 193, 0.85);
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.3), inset 0 0 40px rgba(139, 69, 19, 0.15);
            padding: 40px;
            margin-bottom: 40px;
            border: 2px solid #d2b48c;
            backdrop-filter: blur(5px);
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .label {
            display: block;
            font-size: 1rem;
            font-weight: 600;
            color: #5d4037;
            margin-bottom: 10px;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
            text-shadow: 1px 1px 2px rgba(139, 69, 19, 0.2);
        }
        
        .input {
            width: 100%;
            padding: 14px 18px;
            font-size: 1.1rem;
            border: 2px solid #d2b48c;
            border-radius: 8px;
            transition: border-color 0.3s, background-color 0.3s;
            background-color: #faf6e9;
            color: #5d4037;
            box-shadow: inset 0 2px 5px rgba(139, 69, 19, 0.15);
            font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif;
        }
        
        .input:focus {
            outline: none;
            border-color: #a1887f;
            background-color: #fff8e1;
            box-shadow: inset 0 2px 5px rgba(139, 69, 19, 0.25), 0 0 0 3px rgba(161, 136, 127, 0.3);
        }
        
        .search-btn {
            width: 100%;
            background: #8d6e63;
            color: #f5e7c1;
            border: 2px solid #795548;
            padding: 18px;
            font-size: 1.25rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
            box-shadow: 0 4px 8px rgba(139, 69, 19, 0.3);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
        }
        
        .search-btn:hover {
            background: #795548;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(139, 69, 19, 0.4);
        }
        
        .platforms {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .platforms-title {
            font-size: 1rem;
            color: #795548;
            margin-bottom: 20px;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
            font-style: normal;
            font-weight: 600;
        }
        
        .platform-tags {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .platform-tag {
            background: #e6d7b8;
            color: #5d4037;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            cursor: grab;
            transition: all 0.3s ease;
            border: 2px solid #d2b48c;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
            box-shadow: 0 2px 4px rgba(139, 69, 19, 0.1);
            user-select: none;
        }
        
        .platform-tag:hover {
            background: #d7cdb2;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(139, 69, 19, 0.2);
        }
        
        .platform-tag.active {
            background: #a1887f;
            color: #f5e7c1;
            border-color: #8d6e63;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .platform-tag.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
            cursor: grabbing;
            z-index: 1000;
        }

        .platform-tag.drag-over {
            background: #c8b99c;
            transform: scale(1.05);
        }
        
        .alias-info {
            font-size: 0.8rem;
            color: #8d6e63;
            font-style: italic;
            font-family: sans-serif;
            margin-top: 10px;
        }

        .browse-options {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-label {
            display: flex;
            align-items: center;
            font-size: 1rem;
            color: #5d4037;
            cursor: pointer;
            font-family: 'STFangsong', 'KaiTi', 'LiSu', 'Palatino Linotype', serif;
        }

        .radio-label input[type="radio"] {
            margin-right: 8px;
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid #a1887f;
            border-radius: 50%;
            outline: none;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }

        .radio-label input[type="radio"]:checked {
            background-color: #8d6e63;
            border-color: #795548;
        }

        .radio-label input[type="radio"]:checked::before {
            content: '';
            display: block;
            width: 8px;
            height: 8px;
            background-color: #f5e7c1;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }


        .message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .message.success {
            background-color: #4CAF50;
        }

        .message.error {
            background-color: #f44336;
        }
        
        @media (max-width: 640px) {
            .title {
                font-size: 2.5rem;
            }
            
            .search-card {
                padding: 30px;
            }
        }
    </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "DirectGo ç›´è¾¾",
  "description": "çº¯å‡€å¹³å°å†…å®¹æœç´¢å¼•æ“ï¼Œç›´è¾¾çŸ¥ä¹ã€å¾®åšã€å°çº¢ä¹¦ç­‰å¹³å°å†…å®¹",
  "applicationCategory": "SearchApplication",
  "operatingSystem": "Any"
}
</script>
</head>
<body>
    <div class="container">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="header">
            <h1 class="title">DirectGo ç›´è¾¾</h1>
            <p class="subtitle">DirectGoç›´è¾¾æä¾›çº¯å‡€æœç´¢ä½“éªŒï¼Œç›´æ¥è·å–å„å¤§å¹³å°å†…å®¹ï¼Œé¿å…è¢«æ¨èå†…å®¹åˆ†æ•£æ³¨æ„åŠ›</p>

        </div>

        <!-- æœç´¢åŒºåŸŸ -->
        <div class="search-card">
            <div class="form-group">
                <label class="label">å¹³å° (è¾“å…¥å¹³å°åç§°æˆ–åˆ«å)</label>
                <input 
                    type="text" 
                    class="input" 
                    id="platform-input"
                    placeholder="ä¾‹å¦‚: çŸ¥ä¹, zhihu, zh (ç•™ç©ºé»˜è®¤Bing)"
                >
            </div>

            <div class="form-group">
                <label class="label">æœç´¢å…³é”®è¯</label>
                <input 
                    type="text" 
                    class="input" 
                    id="keyword-input"
                    placeholder="è¾“å…¥ä½ è¦æœç´¢çš„å†…å®¹..."
                >
            </div>

            <p class="alias-info" style="margin-top: -15px; margin-bottom: 20px;">
                å°è¯•æœç´¢ï¼šçŸ¥ä¹ å¦‚ä½•å­¦ä¹ Python | å°çº¢ä¹¦ æ˜¥å­£ç©¿æ­
            </p>

            <div class="form-group">
                <label class="label">æµè§ˆæ–¹å¼</label>
                <div class="browse-options">
                    <label class="radio-label">
                        <input type="radio" name="browse-mode" value="web" checked>
                        Web
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="browse-mode" value="scheme">
                        Scheme
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="browse-mode" value="intent">
                        Intent
                    </label>
                </div>
            </div>

            <button class="search-btn" onclick="handleSearch()">
                <span>ğŸ”</span>
                <span>æœç´¢</span>
                <span>â†’</span>
            </button>
        </div>

        <!-- å¸¸ç”¨å¹³å°å¿«æ·æŒ‰é’® -->
        <div class="platforms">
            <p class="platforms-title">å¸¸ç”¨å¹³å°å¿«æ·é€‰æ‹©:</p>
<div class="platform-tags" id="platform-tags">
                <button class="platform-tag" draggable="true" data-platform="bing" onclick="selectPlatform(\'bing\')">Bing</button>
                <button class="platform-tag" draggable="true" data-platform="xiaohongshu" onclick="selectPlatform(\'xiaohongshu\')">å°çº¢ä¹¦</button>
                <button class="platform-tag" draggable="true" data-platform="bilibili" onclick="selectPlatform(\'bilibili\')">å“”å“©å“”å“©</button>
                <button class="platform-tag" draggable="true" data-platform="zhihu" onclick="selectPlatform(\'zhihu\')">çŸ¥ä¹</button>
                <button class="platform-tag" draggable="true" data-platform="amap" onclick="selectPlatform(\'amap\')">é«˜å¾·åœ°å›¾</button>
                <button class="platform-tag" draggable="true" data-platform="weibo" onclick="selectPlatform(\'weibo\')">å¾®åš</button>
                <button class="platform-tag" draggable="true" data-platform="taobao" onclick="selectPlatform(\'taobao\')">æ·˜å®</button>
                <button class="platform-tag" draggable="true" data-platform="jd" onclick="selectPlatform(\'jd\')">äº¬ä¸œ</button>
                <button class="platform-tag" draggable="true" data-platform="pubmed" onclick="selectPlatform(\'pubmed\')">PubMed</button>
                <button class="platform-tag" draggable="true" data-platform="sciencedirect" onclick="selectPlatform(\'sciencedirect\')">ScienceDirect</button>
                <button class="platform-tag" draggable="true" data-platform="pubchem" onclick="selectPlatform(\'pubchem\')">PubChem</button>
            </div>
            <p class="alias-info">
            æ”¯æŒä¸­æ–‡åç§°å’Œåˆ«å: çŸ¥ä¹/zh, å°çº¢ä¹¦/xhs, å¾®åš/wb, å“”å“©å“”å“©/bl/bç«™, å¿…åº”/bing, é«˜å¾·/amap, PubChem/pc, æ·˜å®/tb, äº¬ä¸œ/jd, PubMed/pm, ScienceDirect/sd<br>
                <small style="color: #a0896b;">ğŸ’¡ æç¤ºï¼šå¯æ‹–åŠ¨å¹³å°å¡ç‰‡è°ƒæ•´é¡ºåºï¼Œæ’åºä¼šè‡ªåŠ¨ä¿å­˜</small>
            </p>
        </div>

        <!-- æ¶ˆæ¯æç¤ºåŒºåŸŸ -->
        <div id="message-div" class="message" style="display: none;"></div>

    <script>
        // æ”¯æŒçš„å¹³å°é…ç½®
        const platforms = [
            {
                id: 'zhihu',
                name: 'çŸ¥ä¹',
                aliases: ['zh', 'zhihu', 'çŸ¥ä¹'],
                searchUrl: 'https://www.zhihu.com/search?type=content&q={keyword}',
                schemeUrl: 'zhihu://search?query={keyword}',
                intentUrl: 'intent://search?query={keyword}#Intent;scheme=zhihu;package=com.zhihu.android;end',
            },
            {
                id: 'xiaohongshu',
                name: 'å°çº¢ä¹¦',
                aliases: ['xhs', 'xiaohongshu', 'å°çº¢ä¹¦'],
                searchUrl: 'https://www.xiaohongshu.com/search_result?keyword={keyword}',
                schemeUrl: 'xhsdiscover://search?keyword={keyword}',
                intentUrl: 'intent://search?keyword={keyword}#Intent;scheme=xhs;package=com.xingin.xhs;end',
            },
            {
                id: 'weibo',
                name: 'å¾®åš',
                aliases: ['wb', 'weibo', 'å¾®åš'],
                searchUrl: 'https://s.weibo.com/weibo?q={keyword}',
                schemeUrl: '', // å¾®åšæš‚ä¸æ”¯æŒç›´æ¥æœç´¢çš„ Scheme é“¾æ¥
                intentUrl: '', // å¾®åšæš‚ä¸æ”¯æŒç›´æ¥æœç´¢çš„ Intent é“¾æ¥
            },
            {
                id: 'bilibili',
                name: 'å“”å“©å“”å“©',
                aliases: ['bl', 'bilibili', 'å“”å“©å“”å“©', 'bç«™'],
                searchUrl: 'https://search.bilibili.com/all?keyword={keyword}',
                schemeUrl: 'bilibili://search?keyword={keyword}',
                intentUrl: 'intent://search?keyword={keyword}#Intent;scheme=bilibili;package=tv.danmaku.bili;end',
            },
            {
                id: 'bing',
                name: 'Bing',
                aliases: ['bing', 'å¿…åº”', 'Bing'],
                searchUrl: 'https://www.bing.com/search?q={keyword}',
            },
            {
                id: 'amap',
                name: 'é«˜å¾·åœ°å›¾',
                aliases: ['amap', 'é«˜å¾·', 'é«˜å¾·åœ°å›¾'],
                searchUrl: 'https://ditu.amap.com/search?query={keyword}',
            },
            {
                id: 'pubmed',
                name: 'PubMed',
                aliases: ['pubmed', 'pm'],
                searchUrl: 'https://pubmed.ncbi.nlm.nih.gov/?term={keyword}',
            },
            {
                id: 'sciencedirect',
                name: 'ScienceDirect',
                aliases: ['sciencedirect', 'sd'],
                searchUrl: 'https://www.sciencedirect.com/search?qs={keyword}',
            },
            {
                id: 'pubchem',
                name: 'PubChem',
                aliases: ['pubchem', 'pc'],
                searchUrl: 'https://pubchem.ncbi.nlm.nih.gov/#query={keyword}',
            },
            {
                id: 'taobao',
                name: 'æ·˜å®',
                aliases: ['taobao', 'tb', 'æ·˜å®'],
                searchUrl: 'https://s.taobao.com/search?q={keyword}',
                schemeUrl: 'taobao://s.taobao.com/?q={keyword}',
                intentUrl: 'intent://s.taobao.com/?q={keyword}#Intent;scheme=taobao;package=com.taobao.taobao;end',
            },
            {
                id: 'jd',
                name: 'äº¬ä¸œ',
                aliases: ['jd', 'äº¬ä¸œ'],
                searchUrl: 'https://search.jd.com/Search?keyword={keyword}',
                schemeUrl: 'openapp.jdmobile://virtual?params=%7B%22category%22%3A%22jump%22%2C%22des%22%3A%22productList%22%2C%22keyWord%22%3A%22{keyword}%22%2C%22from%22%3A%22search%22%2C%22category%22%3A%22jump%22%7D',
                intentUrl: 'intent://virtual?params=%7B%22category%22%3A%22jump%22%2C%22des%22%3A%22productList%22%2C%22keyWord%22%3A%22{keyword}%22%2C%22from%22%3A%22search%22%2C%22category%22%3A%22jump%22%7D#Intent;scheme=openapp.jdmobile;package=com.jingdong.app.mall;end',
            }
        ];

        // æ ¹æ®åˆ«åè·å–å¹³å°ä¿¡æ¯
        function getPlatformByAlias(alias) {
            return platforms.find(p => 
                p.id === alias.toLowerCase() || 
                p.aliases.some(a => a.toLowerCase() === alias.toLowerCase())
            );
        }

        // è·å–é€‰ä¸­çš„æµè§ˆæ–¹å¼
        function getSelectedBrowseMode() {
            const radios = document.getElementsByName("browse-mode");
            for (let i = 0; i < radios.length; i++) {
                if (radios[i].checked) {
                    return radios[i].value;
                }
            }
            return "web"; // é»˜è®¤è¿”å›web
        }

        // å¤„ç†æœç´¢
        function handleSearch() {
            const platformInput = document.getElementById('platform-input');
            const keywordInput = document.getElementById('keyword-input');

            let platform = platformInput.value.trim();
            let keyword = keywordInput.value.trim();

            if (!keyword) {
                showMessage("è¯·è¾“å…¥æœç´¢å…³é”®è¯", "error");
                return;
            }

            // å¦‚æœå¹³å°ä¸ºç©ºï¼Œé»˜è®¤ä½¿ç”¨Bing
            if (!platform) {
                platform = "bing";
                platformInput.value = "bing"; // æ›´æ–°è¾“å…¥æ¡†æ˜¾ç¤º
            }

            let platformInfo = getPlatformByAlias(platform);
            let swapped = false;

            // å¦‚æœå¹³å°ä¸åŒ¹é…ï¼Œå°è¯•äº¤æ¢å¹³å°å’Œå…³é”®è¯
            if (!platformInfo) {
                const tempPlatform = keyword;
                const tempKeyword = platform;
                platformInfo = getPlatformByAlias(tempPlatform);
                if (platformInfo) {
                    platform = tempPlatform;
                    keyword = tempKeyword;
                    swapped = true;
                }
            }

            if (!platformInfo) {
                showMessage(`ä¸æ”¯æŒçš„å¹³å°: ${platform}`, 'error');
                return;
            }

            if (swapped) {
                platformInput.value = platform; // æ›´æ–°è¾“å…¥æ¡†å†…å®¹
                keywordInput.value = keyword; // æ›´æ–°è¾“å…¥æ¡†å†…å®¹
                showMessage('å·²è‡ªåŠ¨äº¤æ¢è¾“å…¥æ¡†', 'success');
            }
            // å¯¹å…³é”®è¯è¿›è¡ŒURLç¼–ç 
            const encodedKeyword = encodeURIComponent(keyword);
            
            // è·å–é€‰ä¸­çš„æµè§ˆæ–¹å¼
            const browseMode = getSelectedBrowseMode();
            let targetUrl = '';

            if (browseMode === 'web') {
                targetUrl = platformInfo.searchUrl.replace('{keyword}', encodedKeyword);
            } else if (browseMode === 'scheme') {
                if (platformInfo.schemeUrl) {
                    targetUrl = platformInfo.schemeUrl.replace('{keyword}', encodedKeyword);
                } else {
                    showMessage(`å½“å‰å¹³å°ä¸æ”¯æŒ Scheme æ–¹å¼: ${platformInfo.name}`, 'error');
                    return;
                }
            } else if (browseMode === 'intent') {
                if (platformInfo.intentUrl) {
                    targetUrl = platformInfo.intentUrl.replace('{keyword}', encodedKeyword);
                } else {
                    showMessage(`å½“å‰å¹³å°ä¸æ”¯æŒ Intent æ–¹å¼: ${platformInfo.name}`, 'error');
                    return;
                }
            }
            
            // ç›´æ¥è·³è½¬åˆ°ç›®æ ‡å¹³å°çš„æœç´¢ç»“æœé¡µ
            window.open(targetUrl, '_blank');        }

        // æ˜¾ç¤ºæç¤ºä¿¡æ¯
        function showMessage(message, type) {
            const messageDiv = document.getElementById('message-div');
            messageDiv.textContent = message;
            messageDiv.className = 'message ' + type;
            messageDiv.style.display = 'block';
            setTimeout(() => {
                messageDiv.style.display = 'none';
            }, 3000);
        }

        // é€‰æ‹©å¹³å°
     function selectPlatform(platformId) {
            const platformInput = document.getElementById(\'platform-input\');
            platformInput.value = platformId;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.platform-tag').forEach(btn => {
                btn.classList.remove('active');
            });
            const clickedButton = document.querySelector(`[data-platform="${platformId}"]`);
            if (clickedButton) {
                clickedButton.classList.add('active');
            }
        } // ä¿®æ­£ selectPlatform å‡½æ•°çš„ç»“æŸä½ç½®

        // é”®ç›˜äº‹ä»¶å¤„ç†å’Œæ‹–æ‹½åŠŸèƒ½åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            const platformInput = document.getElementById('platform-input');
            const keywordInput = document.getElementById('keyword-input');
            
            platformInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });
            
            keywordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });

            // åˆå§‹åŒ–æ‹–æ‹½åŠŸèƒ½
            initializeDragAndDrop();
            // åŠ è½½ä¿å­˜çš„æ’åº
            loadPlatformOrder();
        });

        // æ‹–æ‹½åŠŸèƒ½ç›¸å…³å˜é‡
        let draggedElement = null;

        // åˆå§‹åŒ–æ‹–æ‹½åŠŸèƒ½
        function initializeDragAndDrop() {
            const platformTags = document.querySelectorAll('.platform-tag');
            
            platformTags.forEach(tag => {
                tag.addEventListener('dragstart', handleDragStart);
                tag.addEventListener('dragover', handleDragOver);
                tag.addEventListener('drop', handleDrop);
                tag.addEventListener('dragend', handleDragEnd);
                tag.addEventListener('dragenter', handleDragEnter);
                tag.addEventListener('dragleave', handleDragLeave);
            });
        }

        // æ‹–æ‹½å¼€å§‹
        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.outerHTML);
        }

        // æ‹–æ‹½ç»è¿‡
        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }

        // æ‹–æ‹½è¿›å…¥
        function handleDragEnter(e) {
            if (this !== draggedElement) {
                this.classList.add('drag-over');
            }
        }

        // æ‹–æ‹½ç¦»å¼€
        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        // æ”¾ç½®
        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }

            if (draggedElement !== this) {
                const container = document.getElementById('platform-tags');
                const draggedIndex = Array.from(container.children).indexOf(draggedElement);
                const targetIndex = Array.from(container.children).indexOf(this);

                if (draggedIndex < targetIndex) {
                    container.insertBefore(draggedElement, this.nextSibling);
                } else {
                    container.insertBefore(draggedElement, this);
                }

                // ä¿å­˜æ–°çš„æ’åº
                savePlatformOrder();
            }

            return false;
        }

        // æ‹–æ‹½ç»“æŸ
        function handleDragEnd(e) {
            document.querySelectorAll('.platform-tag').forEach(tag => {
                tag.classList.remove('dragging', 'drag-over');
            });
            draggedElement = null;
        }

        // ä¿å­˜å¹³å°æ’åºåˆ°æœ¬åœ°å­˜å‚¨
        function savePlatformOrder() {
            const container = document.getElementById('platform-tags');
            const order = Array.from(container.children).map(tag => tag.getAttribute('data-platform'));
            localStorage.setItem('nofeed-platform-order', JSON.stringify(order));
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½å¹³å°æ’åº
        function loadPlatformOrder() {
            const savedOrder = localStorage.getItem('nofeed-platform-order');
            if (savedOrder) {
                try {
                    const order = JSON.parse(savedOrder);
                    const container = document.getElementById('platform-tags');
                    const tags = Array.from(container.children);
                    
                    // æŒ‰ä¿å­˜çš„é¡ºåºé‡æ–°æ’åˆ—
                    order.forEach(platformId => {
                        const tag = tags.find(t => t.getAttribute('data-platform') === platformId);
                        if (tag) {
                            container.appendChild(tag);
                        }
                    });
                } catch (e) {
                    console.log('åŠ è½½å¹³å°æ’åºå¤±è´¥:', e);
                }
            }
        }
    </script>
</body>
</html>

